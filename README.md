# Стек приложения
Kotlin,  
Jetpack Compose,  
MVVM,  
LiveData,  
ViewModel,  
Dagger Hilt,  
SharedPreferences  

# Стрктура приложения

Приложение состоит из 3 основных слоев: UI, Data, Domain, а также модуля DI для внедрения зависимостей
## Структура UI
### AuthNavHost 
Compose функция, отвечающая за навигацию между экранами и обмен данными между ними  
Функция предоставляет callback-и другим экранам, которые с их помощью изменяют UserViewModel и 

### UserViewModel
Держатель состояния всей системы авторизации.  
Предоставляет экранам состояние авторизации и данные текущего пользователя  
Предоставляет основную бизнес-логику для связи с Domain-слоем  

### AccountScreen
Начальный экран приложения, отображающий  карточки для навигации по аккаунту  
И предлагаюий войти в аккаунт, если пользователь этого не сделал.
Отображает короткие данные об аккаунте, если пользователь авторизовался
Переход имеет только карточка с именем, остальные просто кликабельны

### LoginScreen
Экран открывающийся при попытке войти в аккаунт из AccountScreen
Предоставляет пользователю возможность войти по телефону или почте  
Поддерживает валидацию входных данных с помощью LoginViewModel  
А также пропустить процесс авторизации и сразу перейти в аккаунт как неавторизованный пользователь

### LoginViewModel
Не хранит состояния, но содержит в себе простую бизнес-логику для валидации данных  

### CodeScreen
Экран открывающийся по в случае подтверждения входа и успешной валидации введеных пользователем данных  
Позволяет получить код подтверждения по СМС или почте (зависимо от LoginScreen)  
Поддерживает валидацию кода с помощью CodeViewModel  

### CodeViewModel
Не хранит состояния, содержит простую бизнес-логику проверки кода подтверждения

## Структура Domain
### LoginStatus
Состояние попытки авторизации (попытка/не удача), используется для изменения состояний при валидации кода CodeScreen

### LoginType
Тип входа (email или телефон)  

### User
Данные пользователя (email, телефон, адрес и т.п)

### const
Файл с константами

### UserRepository
Интерфейс для организации репозитория, который позволяет 
1. Добавить или обновить текущий аккаунт на основе логина и User
2. Получить данные об аккаунте по его логину
3. Удалить аккаунт по логину

## Структура Data
### UserRepositoryImpl
Реализация UserRepository. Использует SharedPreferences для хранения данных о пользователях

# Список задач
## Выполненные
1. Все экраны на основе макета Figma
2. Навигация между экранами согласно ТЗ
3. Поддержка различных состояний экранлв
4. Светлая и темная тема
5. Использование всего стека, описанного в ТЗ (кроме Flow)
6. Возможность валидации данных
7. Таймер
8. Использование ресурсов, шрифтов, цветов, форм, элементов согласно Material и ТЗ
9. Ограничения данных по ТЗ
10. Возможность создания, изменения, удаления аккаунтов пользователя с помощью SharedPreferences

## Невыполненные
1. One-time Password в Code Screen, вместо этого обычный TextField
2. Валидация данных в EditAccountScreen отсутствует
3. Не полная валидация авторизации по номеру телефона (возможны некоторые недопустимные комбинации)
4. Возможен баг при попытке авторизации по номеру телефона, если изначально была авторизация по почте

# Вид приложения (скриншоты)
![Image](https://github.com/mgichev/DeliveryTZ/blob/master/screenshots/d1.PNG)
![Image](https://github.com/mgichev/DeliveryTZ/blob/master/screenshots/d2.PNG)
![Image](https://github.com/mgichev/DeliveryTZ/blob/master/screenshots/d4.PNG)  
![Image](https://github.com/mgichev/DeliveryTZ/blob/master/screenshots/l1.PNG)
![Image](https://github.com/mgichev/DeliveryTZ/blob/master/screenshots/l3.PNG)
![Image](https://github.com/mgichev/DeliveryTZ/blob/master/screenshots/l2.PNG)
![Image](https://github.com/mgichev/DeliveryTZ/blob/master/screenshots/l4.PNG)
